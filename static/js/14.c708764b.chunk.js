(this["webpackJsonp@rclone/rclone-webui"]=this["webpackJsonp@rclone/rclone-webui"]||[]).push([[14],{329:function(e,t,a){"use strict";var n=a(1);n.oneOfType([n.shape({Features:n.object.isRequired,Hashes:n.array.isRequired,Name:n.string.isRequired,Precision:n.number.isRequired,String:n.string.isRequired}),n.object]),n.shape({remoteName:n.string.isRequired,remotePath:n.string.isRequired}),n.string,n.bool,n.bool,n.shape({Path:n.string.isRequired,Name:n.string.isRequired,Size:n.number,MimeType:n.string,ModTime:n.string.isRequired,IsDir:n.bool.isRequired}),n.shape({rate:n.string.isRequired})},623:function(e,t){},662:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAABHNCSVQICAgIfAhkiAAAAQhJREFUWEftlm0NwjAQhp8pAAdYQAI4wAHgAJQADpCAA0ABSEACEsiRlYym3W7LNTSk92tZbtdn7330KjKwKgMGCoTLQrZKrIBJR608gYNVPflKHIGlMrj4rpW+rW5NiClw6xnUBKQJMQPOPSHE/Q5IerR28lNpAaE9vOm3Bfah7hiqxBCIKyDnve1XSiSFmNc/J0W+a5EoKYRTtiu1BcJlyFQJVwMu+KV+GANSF878GjGF0F6Afo38H4TfhaU7/Alc5oT2MjPtDu2hvl8UQgbMAxgNjdzjO9lPN6GrXN4tAFnZUoKICnLOZxuLTTwZs6KMtQVXQe3YtYb5ilcgYoWZVPZY8CzS8QIbSj0iD+quAwAAAABJRU5ErkJggg=="},673:function(e,t){e.exports="data:image/png;base64,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"},674:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALIAAABYCAYAAABRVa2MAAAABHNCSVQICAgIfAhkiAAAA1FJREFUeF7tlMFNJUEMBZcgNgjyz4XNAYIAiROHFaUy+nLTqrnasnrqld7Ty+v7+5++CPxyAk+J/MsT7PmfBBI5Ea4gkMhXxNhPJHIOXEEgka+IsZ9I5By4gkAiXxFjP5HIOXAFgUS+IsZ+IpFz4AoCiXxFjP1EIufAFQQS+YoY+4lEzoErCCTyFTH2Ez8W+flvEL8S+Pf2PY94/Z8PcSPLEpkIyTkFksiJLJXaWU/kGXfiRldrZCIk5xRIjVwjS6V21hN5xp240dUamQjJOQVSI9fIUqmd9USecSdudLVGJkJyToHUyDWyVGpnPZFn3IkbXa2RiZCcUyA1co0sldpZT+QZd+JGV2tkIiTnFEiNXCNLpXbWE3nGnbjR1RqZCMk5BVIj18hSqZ31RJ5xJ250tUYmQnJOgdTINbJUamc9kWfciRtdrZGJkJxTIDVyjSyV2llP5Bl34kZXa2QiJOcUSI1cI0uldtYTecaduNHVGpkIyTkFUiPXyFKpnfVEnnEnbnS1RiZCck6B1Mg1slRqZz2RZ9yJG12tkYmQnFMgNXKNLJXaWU/kGXfiRldrZCIk5xRIjVwjS6V21hN5xp240dUamQjJOQVSI9fIUqmd9USecSdudLVGJkJyToHUyDWyVGpnPZFn3IkbXa2RiZCcUyA1co0sldpZT+QZd+JGV2tkIiTnFEiNXCNLpXbWE3nGnbjR1RqZCMk5BVIj18hSqZ31RJ5xJ250tUYmQnJOgdTINbJUamc9kWfciRtdrZGJkJxTIDVyjSyV2llP5Bl34kZXa2QiJOcUSI1cI0uldtYTecaduNHVGpkIyTkFUiPXyFKpnfVEnnEnbnS1RiZCck6B1Mg1slRqZz2RZ9yJG12tkYmQnFMgNXKNLJXaWU/kGXfiRldrZCIk5xRIjVwjS6V21hN5xp240dUamQjJOQVSI9fIUqmd9USecSdudLVGJkJyToHUyIc2ssy59Qg8hMCPG/khr+poBCSBRJbAWj+TQCKfmUuvkgQSWQJr/UwCiXxmLr1KEkhkCaz1Mwkk8pm59CpJIJElsNbPJJDIZ+bSqySBRJbAWj+TQCKfmUuvkgQSWQJr/UwCiXxmLr1KEkhkCaz1Mwkk8pm59CpJ4AOLvinHBVNx8QAAAABJRU5ErkJggg=="},675:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALYAAABYCAYAAABYvg32AAAABHNCSVQICAgIfAhkiAAAA11JREFUeF7tlMFJhWEMBLUIi7D/XrQHLUJB8OLBYQkxMcy7Jrz83+ywjy9vHx8P/iRwjMCjYh9L1Od8EVBsRThJQLFPxuqjFFsHThJQ7JOx+ijF1oGTBBT7ZKw+SrF14CQBxT4Zq49SbB04SUCxT8bqoxRbB04SUOyTsfooxdaBkwQU+2SsPqos9vPT/4L4+v779/6393y/5tq76D1knWL/IKTYpMzfzBU75EzAFDsE2rROOdFZG9vGJkdG5oodYidgNnYItGmdcqKzNraNTY6MzBU7xE7AbOwQaNM65URnbWwbmxwZmSt2iJ2A2dgh0KZ1yonO2tg2NjkyMlfsEDsBs7FDoE3rlBOdtbFtbHJkZK7YIXYCZmOHQJvWKSc6a2Pb2OTIyFyxQ+wEzMYOgTatU0501sa2scmRkblih9gJmI0dAm1ap5zorI1tY5MjI3PFDrETMBs7BNq0TjnRWRvbxiZHRuaKHWInYDZ2CLRpnXKisza2jU2OjMwVO8ROwGzsEGjTOuVEZ21sG5scGZkrdoidgNnYIdCmdcqJztrYNjY5MjJX7BA7AbOxQ6BN65QTnbWxbWxyZGSu2CF2AmZjh0Cb1iknOmtj29jkyMhcsUPsBMzGDoE2rVNOdNbGtrHJkZG5YofYCZiNHQJtWqec6KyNbWOTIyNzxQ6xEzAbOwTatE450Vkb28YmR0bmih1iJ2A2dgi0aZ1yorM2to1NjozMFTvETsBs7BBo0zrlRGdtbBubHBmZK3aInYDZ2CHQpnXKic7a2DY2OTIyV+wQOwGzsUOgTeuUE521sW1scmRkrtghdgJmY4dAm9YpJzprY9vY5MjIXLFD7ATMxg6BNq1TTnTWxraxyZGRuWKH2AmYjR0CbVqnnOisjW1jkyMjc8UOsRMwGzsE2rROOdFZG9vGJkdG5oodYidgNnYItGmdcqKzNraNTY6MzBU7xE7AbOwQaNM65URnbWwbmxwZmY+LPfJqj0oACJQbW8IS2EhAsTem4jeVCSh2GaF/sJGAYm9MxW8qE1DsMkL/YCMBxd6Yit9UJqDYZYT+wUYCir0xFb+pTECxywj9g40EFHtjKn5TmYBilxH6BxsJKPbGVPymMgHFLiP0DzYSUOyNqfhNZQKKXUboH2wk8AmzzJnHLKUNUAAAAABJRU5ErkJggg=="},695:function(e,t,a){"use strict";a.r(t);var n=a(32),r=a(33),o=a(69),i=a(68),c=a(70),l=a(0),s=a.n(l),m=a(67),u=a(101),d=a(337),p=a(104),h=a(383),f=a(384),g=a(320),b=a(79),E=a.n(b),I=a(107),v=a(77),y=a(688),k=a(571),C=a(385),A=a(371),N=a(689),O=a(703),F=a(690),w=a(692),j=a(460),S="FileComponent",R=a(78),D=a(105),P=a(611),x=a.n(P),M=(a(329),a(325)),U=a(700),B=a(38),T=a(44),V=a(103),L=a(620),Q=a.n(L),H=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"error",value:function(){console.log("error")}},{key:"render",value:function(){var e=this.props.options;return s.a.createElement(Q.a,{options:e,error:this.error})}}]),t}(s.a.Component);var J=function(e){var t,a=e.playbackURL,n=e.MimeType,r=Object(l.useState)(!0),o=Object(M.a)(r,2),i=o[0],c=o[1];function m(e){e.stopPropagation(),c(!i)}if(i)t=s.a.createElement("div",{className:"img-thumbnail w-100 text-center","data-test":"videoPlayerWidget"},s.a.createElement(d.a,{color:"link",onClick:m},s.a.createElement("i",{className:"fa fa-play-circle fa-4x"})));else{var u=a.substring(0,a.lastIndexOf("."))+".vtt";console.log(u);var p={options:{sources:[{type:n,src:a}],subtitles:[{language:"en",url:u,label:"EN"}]}};t=B.createPortal(s.a.createElement(U.a,{className:"task-modal d-none d-sm-block","data-test":"videoPlayerWidget",isOpen:!i,toggle:m},s.a.createElement(H,p)),document.getElementById(T.d))}return s.a.createElement(V.a,null,t)},Z=a(102),q=a(557),Y=a(4);var G=Object(Z.b)((function(e,t){var a=t.downloadURL;return{imageData:e.imageLoader[a]}}),{downloadImage:function(e){return function(t){if(!e)throw new Error("Cannot have null url");t({type:Y.A,status:Y.H,payload:{url:e}}),v.a.get(e,{responseType:"arraybuffer"}).then((function(a){console.log(a);var n=new Blob([a.data]),r=URL.createObjectURL(n);t({type:Y.A,status:Y.I,payload:{url:e,data:r}})}),(function(a){t({type:Y.A,status:Y.G,payload:{url:e,error:a}})}))}}})((function(e){var t=e.downloadURL,a=e.inViewport,n=e.imageData,r=e.downloadImage,o=(e.currentPath,Object(l.useState)(!0)),i=Object(M.a)(o,2),c=i[0],p=i[1],b=Object(l.useState)(0),E=Object(M.a)(b,2),I=E[0],v=E[1];function k(e){e.stopPropagation(),p(!c)}if(Object(l.useEffect)((function(){a&&t&&!n&&r(t)})),c)return s.a.createElement("div",{onClick:k,"data-test":"toggleModal"},!n||n.isLoading?s.a.createElement(y.a,null,"Loading..."):s.a.createElement("img",{className:"img-thumbnail pd-0 m-0 -rotate-90",src:n.data,alt:""}));var C=s.a.createElement("button",{className:"close",style:{position:"absolute",top:"15px",right:"15px"},onClick:k},s.a.createElement("i",{className:"fa fa-close fa-inverse"}));return B.createPortal(s.a.createElement(U.a,{className:"image-modal",isOpen:!c,toggle:k,external:C},s.a.createElement(g.a,{fluid:!0},s.a.createElement(u.a,null,s.a.createElement(m.a,{lg:8},s.a.createElement("img",{className:"rotatableImage img-thumbnail pd-0 m-0 "+(0!==I?"rotate"+I:""),src:n.data,alt:""})),s.a.createElement(m.a,{lg:4},s.a.createElement(h.a,null,s.a.createElement(q.a,null,"Operations"),s.a.createElement(f.a,null,s.a.createElement(u.a,null,s.a.createElement(d.a,{color:"link",onClick:function(){v(I>0?(I-90)%360:(360-I-90)%360)}},s.a.createElement("i",{className:"fa fa-rotate-left"})),s.a.createElement(d.a,{color:"link",onClick:function(){v((I+90)%360)}},s.a.createElement("i",{className:"fa fa-rotate-right"}))))))))),document.getElementById(T.d))}));var X=function(e){var t,a=e.playbackURL,n=e.MimeType,r=Object(l.useState)(!0),o=Object(M.a)(r,2),i=o[0],c=o[1];function m(e){e.stopPropagation(),c(!i)}return t=i?s.a.createElement("div",{className:"img-thumbnail w-100 text-center","data-test":"audioPlayerWidget"},s.a.createElement(d.a,{color:"link",onClick:m},s.a.createElement("audio",{controls:!0},s.a.createElement("source",{src:a,type:n}),"Your browser does not support the audio tag."))):B.createPortal(s.a.createElement(U.a,{className:"task-modal d-none d-sm-block","data-test":"videoPlayerWidget",isOpen:!i,toggle:m},s.a.createElement("audio",{controls:!0},s.a.createElement("source",{src:a,type:n}),"Your browser does not support the audio tag.")),document.getElementById(T.d)),s.a.createElement(V.a,null,t)};function K(e){return{"image/jpeg":"Image","video/mp4":"Video","video/webm":"Video","audio/webm":"Audio","video/ogg":"Video","application/ogg":"Unspecified","audio/mpeg":"Audio","audio/wav":"Audio","audio/mp4":"Audio"}[e]}var W=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).getRenderForItem=function(){var e=a.props,t=e.fsInfo,n=e.item,r=e.inViewport,o=e.currentPath,i=o.remoteName,c=o.remotePath,l=n.MimeType,m="",u=localStorage.getItem(T.c);switch(m=t.Features.BucketBased?u+"[".concat(i,"]/").concat(c,"/").concat(n.Name):u+"[".concat(i,":").concat(c,"]/").concat(n.Name),l){case"image/jpeg":return s.a.createElement(G,{item:n,downloadURL:m,inViewport:r});case"video/mp4":case"video/webm":case"audio/webm":case"video/ogg":case"application/ogg":return s.a.createElement(J,{playbackURL:m,MimeType:l,currentPath:o});case"audio/mpeg":case"audio/wav":case"audio/mp4":return s.a.createElement(X,{playbackURL:m,MimeType:l});default:return null}},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.loadMedia,a=K(e.item.MimeType)&&t?this.getRenderForItem():null;return s.a.createElement(V.a,null,a)}}]),t}(s.a.Component),z=Object(Z.b)((function(e,t){var a=e.explorer.currentPaths[t.containerID],n=e.explorer.loadImages[t.containerID],r={},o=a.remoteName;if(a&&e.remote.configs){var i=o.split(":")[0];e.remote.configs[i]&&(r=e.remote.configs[i])}return{currentPath:a,fsInfo:r,loadMedia:n}}),{})(W);function _(){return(_=Object(I.a)(E.a.mark((function e(t){var a,n,r,o,i,c,l,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.srcRemoteName,n=t.srcRemotePath,r=t.destRemoteName,o=t.destRemotePath,i=t.Name,c=t.IsDir,l=t.dropEffect,s=t.updateHandler,"move"!==l){e.next=8;break}return e.next=4,Object(v.b)(a,n,r,o,i,c);case 4:s(),c?D.b.info("Directory copying started in background: ".concat(i)):D.b.info("File copying started in background: ".concat(i)),e.next=12;break;case 8:return e.next=10,Object(v.c)(a,n,r,o,i,c);case 10:s(),D.b.info("Directory moving started in background: ".concat(i));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $={canDrag:function(e){return!0},beginDrag:function(e){var t=e.item;return{Name:t.Name,Path:t.Path,IsDir:t.IsDir,remoteName:e.remoteName,remotePath:e.remotePath}},endDrag:function(e,t,a){console.log(e,"Component:",a);try{t.getDropResult()&&a&&function(e){_.apply(this,arguments)}(t.getDropResult())}catch(r){var n=r.response?r.response:r;console.log(JSON.stringify(n)),D.b.error("Error copying file(s). ".concat(n),{autoClose:!1})}}};function ee(e){var t=e.IsDir,a=e.MimeType,n="fa-file";return t?n="fa-folder":"application/pdf"===a?n="fa-file-pdf-o":"image/jpeg"===a?n="fa-file-image-o":"application/rar"===a||"application/x-rar-compressed"===a||" application/zip"===a?n="fa-file-archive-o":"text/plain"===a?n="fa-file-text-o":"text/x-vcard"===a&&(n="fa-address-card-o"),s.a.createElement("i",{className:n+" fa fa-lg"})}function te(e,t){window.confirm("Are you sure you want to delete ".concat(t.Name))&&e(t)}function ae(e){var t=e.downloadHandle,a=e.deleteHandle,n=e.item,r=e.linkShareHandle;return n.IsDir?s.a.createElement(s.a.Fragment,null,s.a.createElement(N.a,null,s.a.createElement(O.a,{color:"link"},s.a.createElement("i",{className:"fa fa-ellipsis-v"})),s.a.createElement(F.a,null,s.a.createElement(w.a,{header:!0},"Actions"),s.a.createElement(w.a,{onClick:function(){return r(n)}},s.a.createElement("i",{className:"fa fa-share fa-lg d-inline"})," Share with link"),s.a.createElement(w.a,{divider:!0}),s.a.createElement(w.a,{onClick:function(){return te(a,n)}},s.a.createElement("i",{className:"fa fa-remove fa-lg d-inline text-danger"})," Delete ")))):s.a.createElement(s.a.Fragment,null,s.a.createElement(d.a,{color:"link",onClick:function(){return t(n)}},s.a.createElement("i",{className:"fa fa-cloud-download fa-lg d-inline"})),s.a.createElement(d.a,{color:"link"},s.a.createElement("i",{className:"fa fa-info-circle"})),s.a.createElement(N.a,null,s.a.createElement(O.a,{color:"link"},s.a.createElement("i",{className:"fa fa-ellipsis-v"})),s.a.createElement(F.a,null,s.a.createElement(w.a,{header:!0},"Actions"),s.a.createElement(w.a,{onClick:function(){return r(n)}},s.a.createElement("i",{className:"fa fa-share fa-lg d-inline"})," Share with link"),s.a.createElement(w.a,{divider:!0}),s.a.createElement(w.a,{onClick:function(){return te(a,n)}},s.a.createElement("i",{className:"fa fa-remove fa-lg d-inline text-danger"})," Delete "))))}var ne=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"handleClick",value:function(e,t,a,n){e&&t(a,n)}},{key:"render",value:function(){var e,t=this,a=this.props,n=a.containerID,r=a.inViewport,o=a.item,i=a.loadImages,c=a.clickHandler,l=a.downloadHandle,m=a.linkShareHandle,u=a.deleteHandle,d=a.connectDragSource,p=a.gridMode,g=o.IsDir,b=o.MimeType,E=o.ModTime,I=o.Name,v=o.Size,y=new Date(E);return e=d("card"===p?s.a.createElement("div",{className:g?"":"col-md-4"},s.a.createElement(h.a,null,s.a.createElement(f.a,{onClick:function(e){return t.handleClick(g,c,e,o)}},i&&K(b)?s.a.createElement(z,{containerID:n,item:o,inViewport:r}):s.a.createElement(ee,{IsDir:g,MimeType:b}),I),s.a.createElement(j.a,null,s.a.createElement(ae,{downloadHandle:l,linkShareHandle:m,deleteHandle:u,item:o})))):s.a.createElement("tr",{className:"pointer-cursor"},s.a.createElement("td",{onClick:function(e){return c(e,o)}},s.a.createElement(ee,{IsDir:g,MimeType:b})," ",I),s.a.createElement("td",null,-1===v?"-":Object(R.g)(v,2)),s.a.createElement("td",{className:"d-none d-md-table-cell"},y.toLocaleDateString()),s.a.createElement("td",null,s.a.createElement(ae,{downloadHandle:l,linkShareHandle:m,deleteHandle:u,item:o})))),s.a.createElement(V.a,null,e)}}]),t}(s.a.Component),re=x()(ne,{rootMargin:"-1.0px"}),oe=Object(A.DragSource)(S,$,(function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}}))(re),ie=a(9),ce=function(e,t,a){return function(n){n({type:Y.j,remoteName:t,id:e,remotePath:a}),n(se(e))}},le=function(e,t){return function(a){a({type:Y.k,remoteName:t,id:e,remotePath:""}),a(se(e))}},se=function(e){return function(t,a){var n=a().explorer.currentPaths[e],r=n.remoteName,o=n.remotePath;r&&""!==r&&t(fe(r,o))}},me=function(e){return function(t){t({type:Y.p,id:e})}},ue=function(e){return function(t){t({type:Y.D,id:e}),t(se(e))}},de=function(e){return function(t){t({type:Y.C,id:e}),t(se(e))}},pe=function(e){return function(t){t({type:Y.B,id:e}),t(se(e))}},he=a(53),fe=function(e,t){return function(a){if(""!==e){var n={fs:0!==e.indexOf("/")?Object(R.a)(e):e,remote:t},r="".concat(e,"-").concat(t);v.a.post(he.a.getFilesList,n).then((function(e){return a({type:Y.v,status:Y.I,payload:{path:r,filesList:e.data.list}})}),(function(e){return a({type:Y.v,status:Y.G,payload:{path:r,error:e}})}))}}},ge=function(e){return function(t){var a=Object(R.l)(3);t(me(a)),t(be(a,e)),t({type:Y.a,payload:{containerID:a,paneID:e}})}},be=function(e,t){return function(a){a({type:Y.b,payload:{containerID:e,paneID:t}})}},Ee=a(42),Ie=a(685),ve=a(686),ye=a(334),ke=a(687),Ce=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).copyToClipboard=function(){var e=document.createElement("textarea");e.innerText=a.props.linkUrl,document.body.appendChild(e),e.select(),document.execCommand("copy"),e.remove()},a.handleFocus=function(e){return e.target.select()},a.state={copySuccess:""},a.toggle=a.toggle.bind(Object(p.a)(a)),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"toggle",value:function(){this.props.closeModal()}},{key:"render",value:function(){var e=this.props,t=e.isVisible,a=e.linkUrl,n=this.state.copySuccess,r=!document||!document.queryCommandSupported||document.queryCommandSupported("copy");return s.a.createElement("div",null,s.a.createElement(U.a,{isOpen:t,toggle:this.toggle},s.a.createElement(Ie.a,{toggle:this.toggle,"data-test":"modalHeader"},"Public link generated."),s.a.createElement(ve.a,{"data-test":"modalBody"},s.a.createElement(ye.a,{readOnly:!0,value:a,onFocus:this.handleFocus}),r&&s.a.createElement("div",null,s.a.createElement(d.a,{color:"link",onClick:this.copyToClipboard},s.a.createElement("i",{className:"fa fa-clipboard fa-2x"}))),n),s.a.createElement(ke.a,{"data-test":"modalFooter"},s.a.createElement(d.a,{color:"primary",onClick:this.toggle},"Done")," ")))}}]),t}(s.a.Component);Ce.defaultProps={isVisible:!0};var Ae=Ce;var Ne=function(e){var t=e.height,a=e.children;return s.a.createElement("div",{style:{overflow:"auto",height:t}},a)},Oe={drop:function(e,t,a){if(!t.didDrop()){var n=t.getItem(),r=n.Name,o=n.Path,i=n.IsDir,c=n.remoteName;return{srcRemoteName:Object(R.a)(c),srcRemotePath:o,destRemoteName:Object(R.a)(e.currentPath.remoteName),destRemotePath:e.currentPath.remotePath,Name:r,IsDir:i,updateHandler:a.updateHandler}}},canDrop:function(e,t){var a=t.getItem(),n=a.remoteName,r=a.remotePath,o=e.currentPath.remoteName,i=e.currentPath.remotePath;return o!==n||i!==r}};var Fe=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).closeLinkShareModal=function(){a.setState({showLinkShareModal:!1})},a.showLinkShareModal=function(){a.setState({showLinkShareModal:!0})},a.updateHandler=function(){a.getFilesList()},a.dismissAlert=function(e){a.setState({isDownloadProgress:!1})},a.linkShareHandle=function(e){if(a.props.fsInfo.Features.PublicLink){var t=a.props.currentPath.remoteName;v.a.post(he.a.createPublicLink,{fs:Object(R.a)(t),remote:e.Path}).then((function(e){a.setState({generatedLink:e.data.url,showLinkShareModal:!0})}),(function(e){D.b.error("Error Generating link: "+e)}))}else D.b.error("This remote does not support public link")},a.getFileComponents=function(e){var t=a.props,n=t.files,r=t.containerID,o=t.gridMode,i=t.fsInfo,c=t.loadImages,l=a.props.currentPath,m=l.remoteName,u=l.remotePath;if(i&&!Object(R.j)(i))return n.reduce((function(t,n){var l=n.ID,d=n.Name;return void 0===l&&(l=d),n.IsDir===e&&t.push(s.a.createElement(oe,{key:l,item:n,clickHandler:a.handleFileClick,downloadHandle:a.downloadHandle,deleteHandle:a.deleteHandle,remoteName:m,remotePath:u,gridMode:o,containerID:r,linkShareHandle:a.linkShareHandle,loadImages:c,isBucketBased:i.Features.BucketBased,canCopy:i.Features.Copy,canMove:i.Features.Move,itemIdx:1})),t}),[])},a.applySortFilter=function(e){var t=a.props,n=t.changeSortFilter,r=t.containerID;return a.props.sortFilter===e?n(r,e,!0!==a.props.sortFilterAscending):n(r,e,!0)},a.state={isLoading:!1,isDownloadProgress:!1,downloadingItems:0,shouldUpdate:!0,showLinkShareModal:!1,generatedLink:""},a.handleFileClick=a.handleFileClick.bind(Object(p.a)(a)),a.downloadHandle=a.downloadHandle.bind(Object(p.a)(a)),a.deleteHandle=a.deleteHandle.bind(Object(p.a)(a)),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"handleFileClick",value:function(e,t){var a=t.Path,n=t.IsDir,r=t.IsBucket;n||r?this.updateRemotePath(a,n,r):this.downloadHandle(t)}},{key:"updateRemotePath",value:function(e,t,a){var n=this.props.currentPath.remoteName,r="",o="";a?(r=Object(R.a)(n)+e,o=""):t&&(r=n,o=e),this.props.changePath(this.props.containerID,r,o)}},{key:"getFilesList",value:function(){var e=this.props.currentPath,t=e.remoteName,a=e.remotePath;this.props.getFiles(t,a)}},{key:"downloadHandle",value:function(){var e=Object(I.a)(E.a.mark((function e(t){var a,n,r,o,i,c,l,s,m=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.currentPath,n=a.remoteName,r=a.remotePath,o=this.props.fsInfo,i="",i=o.Features.BucketBased?"/[".concat(n,"]/").concat(r,"/").concat(t.Name):"/[".concat(n,":").concat(r,"]/").concat(t.Name),this.setState((function(e){return{downloadingItems:e.downloadingItems+1,isDownloadProgress:!0}})),e.next=7,Object(v.a)({url:i,method:"GET",responseType:"blob"});case 7:c=e.sent,l=window.URL.createObjectURL(new Blob([c.data])),(s=document.createElement("a")).href=l,s.setAttribute("download",t.Name),document.body.appendChild(s),s.click(),this.setState((function(e){return{downloadingItems:e.downloadingItems-1}}),(function(){0===m.state.downloadingItems&&m.setState({isDownloadProgress:!1})}));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteHandle",value:function(){var e=Object(I.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props.currentPath.remoteName,n={fs:Object(R.a)(a),remote:t.Path},e.prev=2,!t.IsDir){e.next=10;break}return e.next=6,v.a.post(he.a.purge,n);case 6:this.updateHandler(),D.b.info("".concat(t.Name," deleted.")),e.next=14;break;case 10:return e.next=12,v.a.post(he.a.deleteFile,n);case 12:this.updateHandler(),D.b.info("".concat(t.Name," deleted."),{autoClose:!0});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),D.b.error("Error deleting file. ".concat(e.t0),{autoClose:!1});case 19:case"end":return e.stop()}}),e,this,[[2,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.isDownloadProgress,r=t.downloadingItems,o=t.generatedLink,i=t.showLinkShareModal,c=this.props,l=c.connectDropTarget,d=c.isOver,p=c.files,h=c.gridMode,f=c.canDrop,b=c.sortFilter,E=c.sortFilterAscending,I=this.props.currentPath.remoteName;if(a||!p)return s.a.createElement("div",null,s.a.createElement(y.a,{color:"primary"})," Loading");if(""===I)return s.a.createElement("div",null,"No remote is selected. Select a remote from above to show files.");var v=this.getFileComponents(!0),A=this.getFileComponents(!1),N="";if("card"===h)N=s.a.createElement(g.a,{fluid:!0},s.a.createElement(u.a,null,s.a.createElement(m.a,{lg:3},s.a.createElement("h3",null,"Directories"),s.a.createElement(Ne,{height:T.b},v)),s.a.createElement(m.a,{lg:9},s.a.createElement("h3",null,"Files"),s.a.createElement(Ne,{height:T.b},s.a.createElement(u.a,null,A)))));else{var O="fa fa-lg fa-arrow-down";E&&(O="fa fa-lg fa-arrow-up"),N=s.a.createElement(g.a,{fluid:!0,className:"p-0"},s.a.createElement(Ne,{height:T.b},s.a.createElement(k.a,{className:"table table-responsive-sm table-striped table-fix-head"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"pointer-cursor",onClick:function(){return e.applySortFilter("name")}},"Name ","name"===b&&s.a.createElement("i",{className:O})),s.a.createElement("th",{className:"pointer-cursor",onClick:function(){return e.applySortFilter("size")}},"Size ","size"===b&&s.a.createElement("i",{className:O})),s.a.createElement("th",{className:"d-none d-md-table-cell pointer-cursor",onClick:function(){return e.applySortFilter("modified")}},"Modified ","modified"===b&&s.a.createElement("i",{className:O})),s.a.createElement("th",null,"Actions"))),s.a.createElement("tbody",null,p.length>0?s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",null,s.a.createElement("th",{colSpan:4},"Directories")),v,s.a.createElement("tr",null,s.a.createElement("th",{colSpan:4},"Files")),A):s.a.createElement("tr",null,s.a.createElement("th",{colSpan:4},"Files"))))))}return l(s.a.createElement("div",{className:"row"},d&&f&&s.a.createElement("div",{style:{position:"absolute",top:0,left:0,height:"100%",width:"100%",zIndex:1,opacity:.5,backgroundColor:"gray"}}),s.a.createElement(V.a,null,s.a.createElement(C.a,{color:"info",isOpen:n,toggle:this.dismissAlert,sm:12,lg:12},"Downloading ",r," file(s). Please wait."),N,s.a.createElement(Ae,{closeModal:this.closeLinkShareModal,isVisible:i,linkUrl:o}))))}}]),t}(s.a.PureComponent);Fe.defaultProps={};var we=Object(Ee.compose)(Object(Z.b)((function(e,t){var a=e.explorer,n=a.currentPaths,r=a.visibilityFilters,o=a.gridMode,i=a.searchQueries,c=a.loadImages,l=a.sortFilters,s=a.sortFiltersAscending,m=t.containerID,u=n[m],d=r[m],p=o[m],h=i[m],f=c[m],g=l[m],b=s[m],E={},I=u.remoteName,v=u.remotePath;if(u&&e.remote.configs){var y=I.split(":")[0];e.remote.configs[y]&&(E=e.remote.configs[y])}var k="".concat(I,"-").concat(v),C=e.remote.files[k];return C&&(C=C.files,d&&""!==d&&(C=Object(R.d)(C,d)),h&&(C=Object(R.e)(C,h)),C.sort(Object(R.h)(g,b))),{files:C,currentPath:u,fsInfo:E,gridMode:p,searchQuery:h,loadImages:f,sortFilter:g,sortFilterAscending:b}}),{getFiles:fe,navigateUp:ue,changePath:ce,changeSortFilter:function(e,t,a){return function(n){n({type:Y.n,id:e,payload:{sortFilter:t,sortFilterAscending:a}})}}}),Object(A.DropTarget)(S,Oe,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()}})))(Fe),je=a(698),Se=a(693),Re=a(343),De=a(410),Pe=a(645),xe=a(411),Me=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).disableForm=function(e){a.setState({disableForm:e})},a.changeName=function(e){var t=e.target.value;a.setState({name:t})},a.state={name:"",disableForm:!1},a.createNewFolder=a.createNewFolder.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.toggle=a.toggle.bind(Object(p.a)(a)),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"createNewFolder",value:function(){var e=Object(I.a)(E.a.mark((function e(){var t,a,n,r,o,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.name,a=this.props.currentPath,n=a.remoteName,r=a.remotePath,o=this.props.fsInfo,n=Object(R.a)(n),e.prev=4,o.Features.BucketBased&&""===r?n+=t:""===r?r=t:r+="/"+t,i={fs:n,remote:r},this.disableForm(!0),e.next=10,v.a.post(he.a.mkdir,i);case 10:this.disableForm(!1),this.toggle(),D.b.info("Folder created: ".concat(r)),this.props.getFilesForContainerID(this.props.containerID),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),this.disableForm(!1),e.t0.response?D.b.error("Error creating folder: ".concat(e.t0.response.data.error)):D.b.error("Error creating folder: ".concat(e.t0));case 20:case"end":return e.stop()}}),e,this,[[4,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(e){e.preventDefault(),this.createNewFolder()}},{key:"toggle",value:function(){this.props.closeModal()}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.disableForm,n=this.props,r=n.isVisible,o=n.currentPath;return s.a.createElement(U.a,{isOpen:r,toggle:this.toggle,"data-test":"newFolderComponent"},s.a.createElement(Re.a,{onSubmit:this.handleSubmit},s.a.createElement(Ie.a,{toggle:this.toggle},"Create New folder at ",o.remoteName,": ",o.remotePath),s.a.createElement(ve.a,null,s.a.createElement(De.a,{row:!0},s.a.createElement(xe.a,{for:"folderName",sm:5},"Enter the name"),s.a.createElement(m.a,{sm:7},s.a.createElement(ye.a,{type:"text",name:"folderName",id:"folderName",value:t,onChange:this.changeName,required:!0,autoFocus:!0}))),s.a.createElement("div",{className:"clearfix"},s.a.createElement(d.a,{type:"submit",color:"success",className:"float-right",disabled:a},s.a.createElement("i",{className:"fa fa-check fa-lg"}),"Create folder")))))}}]),t}(s.a.Component),Ue=Object(Z.b)((function(e,t){var a=e.explorer.currentPaths[t.containerID],n={};return a&&e.remote.configs&&e.remote.configs[a.remoteName]&&(n=e.remote.configs[a.remoteName]),{currentPath:a,fsInfo:n}}),{getFilesForContainerID:se})(Me),Be=a(391),Te=a(662),Ve=a.n(Te),Le=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).openNewFolderModal=function(){var e=a.props.fsInfo;e&&e.Features&&e.Features.CanHaveEmptyDirectories?a.setState({newFolderModalIsVisible:!0}):D.b.error("This remote cannot have empty directories")},a.closeNewFolderModal=function(){a.setState({newFolderModalIsVisible:!1})},a.handleChangeFilter=function(e){var t=e.target.value;(0,a.props.changeVisibilityFilter)(a.props.containerID,t)},a.handleChangeGridMode=function(){var e=a.props,t=e.gridMode;(0,e.changeGridMode)(e.containerID,"list"===t?"card":"list")},a.changeSearch=function(e){e.preventDefault();var t=a.props.containerID;a.props.setSearchQuery(t,e.target.value)},a.toggleDropDown=function(){a.setState((function(e){return{dropdownOpen:!e.dropdownOpen}}))},a.toggleAboutModal=function(){var e=a.props.fsInfo;e&&e.Features&&e.Features.About?a.setState((function(e){return{isAboutModalOpen:!e.isAboutModalOpen}}),(function(){if(a.state.isAboutModalOpen){var e=a.props.containerID;a.props.getAbout(e)}})):D.b.error("This remote does not support About")},a.handleCleanTrash=function(){var e=a.props.fsInfo;if(e&&e.Features&&e.Features.CleanUp){if(window.confirm("Are you sure you want to clear the trash. This operation cannot be undone")){var t=a.props,n=t.currentPath,r=t.containerID,o=n.remoteName;Object(R.k)(o)||(o=Object(R.a)(o)),v.a.post(he.a.cleanUpRemote,{fs:o}).then((function(e){200===e.status&&(Object(D.b)("Trash Cleaned"),a.props.getAbout(r))}),(function(e){D.b.error("Error clearing trash "+e)}))}}else D.b.error("Clearing trash is not allowed on this remote")},a.changeLoadMedia=function(e){e.stopPropagation();var t=a.props;(0,t.setLoadImages)(t.containerID,!t.loadImages)},a.handleSearchOpen=function(){var e=a.props.containerID;a.setState((function(t){return t.searchOpen&&a.props.setSearchQuery(e,""),{searchOpen:!t.searchOpen}}))},a.state={newFolderModalIsVisible:!1,isAboutModalOpen:!1,dropdownOpen:!1,searchOpen:!1},a.filterOptions=T.h,a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.containerID,n=t.getFilesForContainerID,r=t.gridMode,o=t.navigateFwd,i=t.navigateBack,c=t.searchQuery,l=t.currentPath,p=t.doughnutData,h=this.state,f=h.newFolderModalIsVisible,g=h.dropdownOpen,b=h.isAboutModalOpen,E=h.searchOpen,I=l.remoteName,v=l.remotePath;return s.a.createElement("nav",{"aria-label":"breadcrumb",className:"row mt-3 mb-1"},s.a.createElement(m.a,{sm:4,md:3,className:"pl-0"},s.a.createElement(d.a,{color:"light",className:"mr-1 btn-explorer-action",onClick:function(){return i(a)}},s.a.createElement("i",{className:"fa fa-lg fa-arrow-left"})),s.a.createElement(d.a,{color:"light",className:"mr-1 btn-explorer-action",onClick:function(){return o(a)}},s.a.createElement("i",{className:"fa fa-lg fa-arrow-right"})),s.a.createElement(d.a,{className:"mr-1 btn-explorer-action",id:"RefreshButton",onClick:function(){return n(a)}},s.a.createElement("i",{className:"fa fa-lg fa-repeat"})),s.a.createElement(je.a,{placement:"right",target:"RefreshButton"},"Refresh Files")),s.a.createElement(m.a,{sm:8,md:E?3:5},s.a.createElement("ol",{className:"breadcrumb float-center",style:{padding:"6px 12px"}},s.a.createElement("li",{className:"breadcrumb-item active"},I,":/"),v)),s.a.createElement(m.a,{sm:12,md:E?6:4,className:"pr-0"},s.a.createElement("div",{className:"float-right form-inline"},s.a.createElement(Se.a,null,s.a.createElement(Re.a,{inline:!0},s.a.createElement(De.a,null,E&&s.a.createElement(ye.a,{type:"text",placeholder:"Search",value:c,className:"animate-fade-in",onChange:this.changeSearch}),s.a.createElement(d.a,{className:"mr-1 btn-explorer-action",onClick:this.handleSearchOpen},s.a.createElement("i",{className:"fa fa-lg "+(E?"fa-close":"fa-search")})))),s.a.createElement(d.a,{className:"mr-1 btn-explorer-action p-1",id:"CreateFolderButton",onClick:this.openNewFolderModal},s.a.createElement("img",{src:Ve.a,alt:"New Folder",className:"fa fa-lg"})," "),s.a.createElement(je.a,{placement:"bottom",target:"CreateFolderButton"},"Create a new Folder"),s.a.createElement(Pe.a,{isOpen:g,toggle:this.toggleDropDown,direction:"down",id:"FilterButton"},s.a.createElement(O.a,{className:"btn-explorer-action"},s.a.createElement("i",{className:"fa fa-lg fa-filter"})),s.a.createElement(F.a,null,s.a.createElement(w.a,{key:"None",value:"",onClick:this.handleChangeFilter},"None"),this.filterOptions.map((function(t,a){return s.a.createElement(w.a,{key:t,value:t,onClick:e.handleChangeFilter},t)})))),s.a.createElement(d.a,{className:"btn-explorer-action",id:"ListViewButton",onClick:this.handleChangeGridMode},s.a.createElement("i",{className:"fa fa-lg "+("card"===r?"fa-list":"fa-th-large")})),s.a.createElement(je.a,{placement:"right",target:"ListViewButton"},"card"===r?"List View":"Card View")),s.a.createElement(Ue,{containerID:a,isVisible:f,closeModal:this.closeNewFolderModal}),s.a.createElement(U.a,{isOpen:b,toggle:this.toggleAboutModal},s.a.createElement(Ie.a,null,"Status for ",I),s.a.createElement(ve.a,null,s.a.createElement(u.a,null,s.a.createElement(m.a,{sm:12},s.a.createElement("div",{className:"chart-wrapper"},s.a.createElement("p",null,"Space Usage (in GB)"),p&&!Object(R.j)(p)?s.a.createElement(Be.a,{data:p}):s.a.createElement(s.a.Fragment,null,s.a.createElement(y.a,{color:"primary"}),"Loading")))),s.a.createElement(u.a,null,s.a.createElement(m.a,{sm:12},s.a.createElement(d.a,{color:"danger",onClick:this.handleCleanTrash},"Clean Trash ",s.a.createElement("i",{className:"fa fa-lg fa-trash"}))))),s.a.createElement(ke.a,null)))))}}]),t}(s.a.Component),Qe=Object(Z.b)((function(e,t){var a=e.providerStatus.about[t.containerID],n={},r=e.explorer.currentPaths[t.containerID],o={};if(r&&e.remote.configs&&e.remote.configs[r.remoteName]&&(o=e.remote.configs[r.remoteName]),a){for(var i=[],c=[],l=0,s=Object.entries(a);l<s.length;l++){var m=Object(M.a)(s[l],2),u=m[0],d=m[1];"total"!==u&&(i.push(u),c.push(Object(R.b)(d).toFixed(2)))}i.length>1&&c.length>1&&(n={labels:i,datasets:[{data:c,backgroundColor:["#FF6384","#36A2EB","#FFCE56","#ff7459"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56","#ff7459"]}]})}return{visibilityFilter:e.explorer.visibilityFilters[t.containerID],loadImages:e.explorer.loadImages[t.containerID],currentPath:e.explorer.currentPaths[t.containerID],gridMode:e.explorer.gridMode[t.containerID],searchQuery:e.explorer.searchQueries[t.containerID],fsInfo:o,doughnutData:n,numCols:e.remote.numCols}}),{changeVisibilityFilter:function(e,t){return function(a){a({type:Y.o,id:e,filter:t})}},changeGridMode:function(e,t){return function(a){a({type:Y.f,id:e,mode:t})}},navigateBack:pe,navigateFwd:de,getFilesForContainerID:se,setSearchQuery:function(e,t){return function(a){a({type:Y.m,id:e,searchQuery:t})}},getAbout:function(e){return function(t,a){var n=a().explorer.currentPaths[e].remoteName;n&&(Object(R.k)(n)||(n=Object(R.a)(n)),t({type:Y.x,status:Y.I,id:e,payload:{}}),v.a.post(he.a.getAbout,{fs:n}).then((function(a){t({type:Y.x,status:Y.I,id:e,payload:a.data})}),(function(a){t({type:Y.x,status:Y.G,id:e,error:a})})))}},setLoadImages:function(e,t){return function(a){a({type:Y.i,id:e,payload:t})}}})(Le),He=a(409),Je=a.n(He),Ze=function(e,t){var a=t.trim().toLowerCase(),n=a.length;return 0===n?e:0===n?[]:e.filter((function(e){return e.toLowerCase().slice(0,n)===a}))},qe=function(e){return e},Ye=function(e){return s.a.createElement("div",null,e)},Ge=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).onSuggestionsFetchRequested=function(e){var t=e.value;a.setState({suggestions:Ze(a.props.suggestions,t)})},a.onSuggestionsClearRequested=function(){a.setState({suggestions:[]})},a.state={suggestions:[]},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t={placeholder:"Type the name of remote you want to open",value:e.value,onChange:e.onChange};return s.a.createElement(Je.a,{suggestions:this.state.suggestions,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,getSuggestionValue:qe,renderSuggestion:Ye,highlightFirstSuggestion:!0,inputProps:t,style:{width:"100%"}})}}]),t}(s.a.Component),Xe=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).shouldUpdateRemoteName=function(e,t){var n=t.newValue;0===n.indexOf("/")?a.setState({remoteName:n,openButtonText:"Open local path"}):a.setState({remoteName:n,openButtonText:"Open"})},a.openRemote=function(e){e.preventDefault();var t=a.props,n=t.changeRemoteName,r=t.containerID,o=a.state.remoteName;n(r,o),a.props.getFsInfo(o)},a.state={isEmpty:!1,remoteName:e.remoteName,openEnabled:!1,openButtonText:"Open"},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.getRemoteNames()}},{key:"render",value:function(){var e=this.state,t=e.isEmpty,a=e.remoteName,n=this.props.remotes;return this.props.hasError?s.a.createElement("div",null,"Error loading remotes. Please try again."):t?s.a.createElement("div",null,"Add some remotes to see them here ",s.a.createElement("span",{role:"img","aria-label":"sheep"},"\ud83d\udc11"),"."):s.a.createElement(Re.a,{onSubmit:this.openRemote,className:"row"},s.a.createElement(m.a,{xs:12,sm:10,lg:10},s.a.createElement(Ge,{value:a,onChange:this.shouldUpdateRemoteName,suggestions:n})),s.a.createElement(m.a,{xs:12,sm:2,lg:2},s.a.createElement(d.a,{className:"btn-lg",color:"success"},this.state.openButtonText)))}}]),t}(s.a.Component);Xe.defaultProps={};var Ke=Object(Z.b)((function(e,t){return{remotes:e.remote.remotes,hasError:!1,error:e.remote.error,currentPath:e.explorer.currentPaths[t.containerID]}}),{getRemoteNames:function(){return function(e,t){var a=t();(!a.remote.remotes||a.remote.remotes.length<1)&&v.a.post(he.a.listRemotes).then((function(t){return e({type:Y.y,status:Y.I,payload:t.data.remotes})}),(function(t){return e({type:Y.y,status:Y.G,payload:t})}))}},getFsInfo:function(e){return function(t){var a,n;Object(R.k)(e)?a=n="/":(n=e.split(":")[0],a=Object(R.a)(n)),v.a.post(he.a.getFsInfo,{fs:a}).then((function(e){t({type:Y.u,status:Y.I,payload:Object(ie.a)({},n,e.data)})}),(function(e){return t({type:Y.u,status:Y.G,payload:e})}))}},changeRemoteName:le})(Xe),We=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={remoteNameTemp:""},a.updateRemoteName=a.updateRemoteName.bind(Object(p.a)(a)),a.updateRemotePath=a.updateRemotePath.bind(Object(p.a)(a)),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"updateRemoteName",value:function(e){this.setState({remoteNameTemp:e})}},{key:"updateRemotePath",value:function(e,t,a){var n=this.props.currentPath.remoteName,r="",o="";a?(r=Object(R.a)(n)+e,o=""):t&&(r=n,o=e),this.props.changePath(this.props.containerID,r,o)}},{key:"render",value:function(){var e=this.props.currentPath.remoteName,t=this.props,a=t.containerID,n=t.className,r=e&&""!==e;return s.a.createElement(V.a,null,s.a.createElement(h.a,{className:n},s.a.createElement(f.a,null,s.a.createElement(g.a,{fluid:!0},r?s.a.createElement(s.a.Fragment,null,s.a.createElement(Qe,{containerID:a}),s.a.createElement(we,{containerID:a})):s.a.createElement(Ke,{remoteName:e,containerID:a})))))}}]),t}(s.a.Component);We.defaultProps={};var ze=Object(Z.b)((function(e,t){var a=e.explorer.currentPaths[t.containerID],n={},r=a.remoteName;if(a&&e.remote.configs){var o=r.split(":")[0];e.remote.configs[o]&&(n=e.remote.configs[o])}return{configs:e.remote.configs,hasError:e.remote.hasError,error:e.remote.error,currentPath:a,fsInfo:n}}),{createPath:me,changePath:ce,changeRemoteName:le,changeRemotePath:function(e,t){return function(a){a({type:Y.l,id:e,remotePath:t}),a(se(e))}},navigateUp:ue,navigateBack:pe,navigateFwd:de})(We),_e=a(663),$e=a.n(_e),et=a(673),tt=a.n(et),at=a(674),nt=a.n(at),rt=a(675),ot=a.n(rt),it=a(679),ct=a(677),lt=a(678);var st=Object(Z.b)((function(e,t){return{containers:e.remote.containers,numContainers:e.remote.numContainers,currentPaths:e.explorer.currentPaths,activeRemoteContainerID:e.remote.activeRemoteContainerID}}),{addRemoteContainer:ge,removeRemoteContainer:function(e,t){return function(a){a(function(e){return function(t){t({type:Y.F,id:e})}}(e)),a({type:Y.E,payload:{containerID:e,paneID:t}})}},changeActiveRemoteContainer:be})((function(e){var t=e.addRemoteContainer,a=e.removeRemoteContainer,n=e.changeActiveRemoteContainer,r=e.activeRemoteContainerID,o=e.containers,i=e.currentPaths,c=e.paneID,l=r?r[c]:"";return s.a.createElement(it.a,{tabs:!0},o.map((function(e){var t=e.ID,r=e.paneID;if(c===r){var o=t===l;return s.a.createElement(ct.a,{key:"TAB_"+t,className:"col-md-2 pl-0 pr-0 custom-tab "+(o?"tab-active":"")},s.a.createElement(lt.a,{className:"float-center",onClick:function(){return n(t,r)}},s.a.createElement("i",{className:"fa fa-folder-o pr-1"}),s.a.createElement("span",{className:"overflow-hidden"},i[t]&&""!==i[t].remoteName?i[t].remoteName:"Open New"),s.a.createElement(d.a,{className:"btn-no-background btn btn-secondary float-right p-0",onClick:function(e){e.stopPropagation(),a(t,r)}},s.a.createElement("i",{className:"fa fa-lg fa-close"}))))}return null})),s.a.createElement(ct.a,{key:"ADD_BUTTON",className:"pl-0 pr-0"},s.a.createElement(lt.a,{className:"float-center",onClick:function(){return t(c)}},s.a.createElement("i",{className:"fa fa-lg fa-plus"}))))})),mt=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).changeLayout=function(e,t){var n=a.props.changeNumCols;e!==n&&n(e,t)},a.toggleDistractionFreeMode=function(e){var t=a.props,n=t.distractionFreeMode;(0,t.changeDistractionFreeMode)(!n)},a.Panes=function(e){for(var t=e.numCols,a=e.activeRemoteContainerID,n=e.distractionFreeMode,r=e.containers,o=[],i=12/t,c=function(e){o.push(s.a.createElement(m.a,{lg:i,key:e},s.a.createElement(u.a,null,s.a.createElement(m.a,{lg:12},s.a.createElement(st,{paneID:e}))),r.map((function(t){var r=t.ID;return t.paneID===e?s.a.createElement(ze,{containerID:r,key:r,className:a&&a[e]&&a[e]!==r?"d-none":"",distractionFreeMode:n}):null}))))},l=0;l<t;l++)c(l);return o},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.numCols,a=e.addRemoteContainer;1===t&&a(0)}},{key:"render",value:function(){var e=this,t=this.props,a=t.numCols,n=t.distractionFreeMode,r=t.activeRemoteContainerID,o=t.containers;return s.a.createElement(V.a,null,s.a.createElement(u.a,{className:"d-none d-md-block","data-test":"remoteExplorerLayout"},n&&s.a.createElement("div",{className:"clearfix float-right"},s.a.createElement(d.a,{color:"success",className:"ml-2",onClick:this.toggleDistractionFreeMode},s.a.createElement("i",{className:"fa fa-arrows"}))),!n&&s.a.createElement(m.a,{sm:12,lg:12,className:"mb-3 d-none d-md-block"},s.a.createElement("span",{className:"text-choose-layout"},"Choose Layout: ","  "),s.a.createElement(d.a,{color:"primary",className:"ml-2 layout-change-button",onClick:function(){return e.changeLayout(1,"horizontal")}},s.a.createElement("img",{style:{height:24},src:tt.a,alt:"Single Vertical Pane"})),s.a.createElement(d.a,{color:"primary",className:"ml-2 layout-change-button",onClick:function(){return e.changeLayout(2,"horizontal")}},s.a.createElement("img",{style:{height:24},src:nt.a,alt:"Double Vertical Pane"})),s.a.createElement(d.a,{color:"primary",className:"ml-2 layout-change-button",onClick:function(){return e.changeLayout(3,"horizontal")}},s.a.createElement("img",{style:{height:24},src:ot.a,alt:"Triple Vertical Pane"})),s.a.createElement(d.a,{color:"success",className:"ml-2",onClick:this.toggleDistractionFreeMode},s.a.createElement("i",{className:"fa fa-arrows"})," Full Screen"))),s.a.createElement(u.a,null,s.a.createElement(this.Panes,{numCols:a,distractionFreeMode:n,activeRemoteContainerID:r,containers:o})))}}]),t}(s.a.Component);t.default=Object(Ee.compose)(Object(Z.b)((function(e){return{backStacks:e.explorer.backStacks,numCols:e.remote.numCols,distractionFreeMode:e.remote.distractionFreeMode,splitMode:e.remote.splitMode,activeRemoteContainerID:e.remote.activeRemoteContainerID,containers:e.remote.containers}}),{createPath:me,changeNumCols:function(e,t){return function(a){if(!e||e<0)throw new Error("Invalid number of cols:".concat(e));a({type:Y.h,payload:{numCols:e,mode:t}})}},changeDistractionFreeMode:function(e){return function(t){t({type:Y.e,payload:e})}},addRemoteContainer:ge}),Object(A.DragDropContext)($e.a))(mt)}}]);
//# sourceMappingURL=14.c708764b.chunk.js.map